{"ast":null,"code":"import{useState}from\"react\";import{AsyncPaginate}from\"react-select-async-paginate\";import{GEO_API_URL,geoApiOptions}from\"../../api\";import\"./search.css\";import{jsx as _jsx}from\"react/jsx-runtime\";const Search=_ref=>{let{onSearchChange}=_ref;const[search,setSearch]=useState(null);const loadOptions=inputValue=>{return fetch(\"\".concat(GEO_API_URL,\"/cities?minPopulation=100000&namePrefix=\").concat(inputValue),geoApiOptions).then(response=>response.json()).then(response=>{return{options:response.data.map(city=>{return{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\", \").concat(city.countryCode)};})};}).catch(err=>console.log(err));};const handleOnChange=searchData=>{setSearch(searchData);onSearchChange(searchData);};return/*#__PURE__*/_jsx(AsyncPaginate,{className:\"search\",placeholder:\"Search for city\",debounceTimeout:600,value:search,onChange:handleOnChange,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["useState","AsyncPaginate","GEO_API_URL","geoApiOptions","jsx","_jsx","Search","_ref","onSearchChange","search","setSearch","loadOptions","inputValue","fetch","concat","then","response","json","options","data","map","city","value","latitude","longitude","label","name","countryCode","catch","err","console","log","handleOnChange","searchData","className","placeholder","debounceTimeout","onChange"],"sources":["/Users/luzh/Documents/Git/Weather_App/src/components/Search/search.js"],"sourcesContent":["import { useState } from \"react\";\nimport { AsyncPaginate } from \"react-select-async-paginate\"; \nimport { GEO_API_URL, geoApiOptions} from \"../../api\";\nimport \"./search.css\"\n\nconst Search = ({onSearchChange}) => {\n    const [search, setSearch] = useState(null);\n\n    const loadOptions = (inputValue) =>{\n        return fetch(`${GEO_API_URL}/cities?minPopulation=100000&namePrefix=${inputValue}`, geoApiOptions)\n                .then((response) => response.json())\n                .then((response) => {\n                    return {\n                        options: response.data.map((city) => {\n                            return {\n                                value: `${city.latitude} ${city.longitude}`,\n                                label: `${city.name}, ${city.countryCode}`,\n                            }\n                        })\n                    }\n                })\n                .catch((err) => console.log(err));\n    }\n    \n    const handleOnChange = (searchData) =>{\n        setSearch(searchData);\n        onSearchChange(searchData);\n    }\n\n    return (\n        <AsyncPaginate className=\"search\"\n        placeholder = \"Search for city\"\n        debounceTimeout={600}\n        value={search}\n        onChange={handleOnChange}\n        loadOptions={loadOptions}\n        />\n    );\n}\n\nexport default Search;"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,aAAa,KAAQ,6BAA6B,CAC3D,OAASC,WAAW,CAAEC,aAAa,KAAO,WAAW,CACrD,MAAO,cAAc,QAAAC,GAAA,IAAAC,IAAA,yBAErB,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAsB,IAArB,CAACC,cAAc,CAAC,CAAAD,IAAA,CAC5B,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAE1C,KAAM,CAAAW,WAAW,CAAIC,UAAU,EAAI,CAC/B,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,WAAW,6CAAAY,MAAA,CAA2CF,UAAU,EAAIT,aAAa,CAAC,CACzFY,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEC,QAAQ,EAAK,CAChB,MAAO,CACHE,OAAO,CAAEF,QAAQ,CAACG,IAAI,CAACC,GAAG,CAAEC,IAAI,EAAK,CACjC,MAAO,CACHC,KAAK,IAAAR,MAAA,CAAKO,IAAI,CAACE,QAAQ,MAAAT,MAAA,CAAIO,IAAI,CAACG,SAAS,CAAE,CAC3CC,KAAK,IAAAX,MAAA,CAAKO,IAAI,CAACK,IAAI,OAAAZ,MAAA,CAAKO,IAAI,CAACM,WAAW,CAC5C,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAG,cAAc,CAAIC,UAAU,EAAI,CAClCvB,SAAS,CAACuB,UAAU,CAAC,CACrBzB,cAAc,CAACyB,UAAU,CAAC,CAC9B,CAAC,CAED,mBACI5B,IAAA,CAACJ,aAAa,EAACiC,SAAS,CAAC,QAAQ,CACjCC,WAAW,CAAG,iBAAiB,CAC/BC,eAAe,CAAE,GAAI,CACrBd,KAAK,CAAEb,MAAO,CACd4B,QAAQ,CAAEL,cAAe,CACzBrB,WAAW,CAAEA,WAAY,CACxB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}